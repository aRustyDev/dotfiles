services:
  qdrant:
    image: qdrant/qdrant
    hostname: qdrant
    container_name: qdrant
    profiles: ["core", "n8n"]
    stdin_open: true # docker run -i
    tty: true # docker run -t
    networks:
      - data-tier      # Primary database network
      - n8n            # For n8n workflow access
    restart: unless-stopped
    expose:
      - "6333"
    volumes:
      - ${XDG_DATA_HOME:-$HOME/.local/share}/mcp/qdrant:/qdrant/storage
    # NOTE: Qdrant routing defined in svc.db.qdrant.yaml (REST: 6333, gRPC: 6334)

